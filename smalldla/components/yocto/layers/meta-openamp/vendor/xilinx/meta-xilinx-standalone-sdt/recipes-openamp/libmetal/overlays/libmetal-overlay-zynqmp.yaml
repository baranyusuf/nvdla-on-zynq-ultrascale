axi:
    ipi@ff3600000:
        compatible: "ipi_uio"
        reg:
            - 0
            - 0xff340000 
            - 0
            - 0x1000
        interrupt-parent:
            - gic
        interrupts:
            - 0
            - 29
            - 4

    shm:
        compatible: "shm_uio"
        reg:
            - 0
            - 0x3ed80000
            - 0
            - 0x1000000
    timer:
        compatible: "ttc_uio"
        reg:
            - 0
            - 0xff110000  
            - 0
            - 0x1000

definitions:
    OpenAMP:
         openamp_channel0_access_srams: &openamp_channel0_access_srams # used for access in each domain
             - dev: psu_r5_0_atcm_global
               flags: 0
             - dev: psu_r5_0_btcm_global
               flags: 0

         openamp_channel1_access_srams: &openamp_channel1_access_srams # used for access in each domain
             - dev: psu_r5_1_atcm_global
               flags: 0
             - dev: psu_r5_1_btcm_global
               flags: 0

         rproc0: &rproc0
             - start: 0x3ed00000
               size: 0x2000000
               no-map: 1

domains:
    openamp_a53_0_cluster: # host in channel from a53-0
        compatible:
            - "openamp,domain-v1"
        cpus:
            - cluster: cpus_a53
              cpumask: 0x1
              mode:
                 secure: true
                 el: 0x3
        access:
            - <<+: *openamp_channel0_access_srams
            - <<+: *openamp_channel1_access_srams

        reserved-memory:
            ranges: true
            <<+: [ *rproc0 ]

        domain-to-domain:
            compatible: openamp,domain-to-domain-v1
            remoteproc-relation:
                compatible: openamp,remoteproc-v2
                remote:
                    - openamp_r5_0_cluster
                    - openamp_r5_1_cluster
                elfload:
                    - [ psu_r5_0_atcm_global, psu_r5_0_btcm_global, rproc0 ]
                    - [ psu_r5_1_atcm_global, psu_r5_1_btcm_global ]


    openamp_r5_1_cluster:
        compatible:
            - "openamp,domain-v1"
        cpus:
            - cluster: cpus_r5_1
              cpumask: 0x2
              mode: 0x1
              secure: true
        access:
            - <<+: *openamp_channel1_access_srams # TCM banks used for firmware memory

        domain-to-domain:
             compatible: openamp,domain-to-domain-v1

    openamp_r5_0_cluster:
        compatible:
            - "openamp,domain-v1"
        cpus:
            - cluster: cpus_r5_0
              cpumask: 0x1
              mode:
              secure: true
        access:
            - <<+: *openamp_channel0_access_srams # TCM banks used for firmware memory
        reserved-memory:
            ranges: true
            <<+: [ *rproc0 ]
        domain-to-domain:
             compatible: openamp,domain-to-domain-v1
